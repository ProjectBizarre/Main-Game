"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.offset = void 0;
const LuauAST_1 = __importDefault(require("../../LuauAST"));
function getLiteralNumberValue(expression) {
    if (LuauAST_1.default.isNumberLiteral(expression)) {
        return Number(expression.value);
    }
    else if (LuauAST_1.default.isUnaryExpression(expression) && expression.operator === "-") {
        const innerValue = getLiteralNumberValue(expression.expression);
        if (innerValue !== undefined) {
            return -innerValue;
        }
    }
    return undefined;
}
function offset(expression, value) {
    if (value === 0) {
        return expression;
    }
    const literalValue = getLiteralNumberValue(expression);
    if (literalValue !== undefined) {
        return LuauAST_1.default.number(literalValue + value);
    }
    else {
        return LuauAST_1.default.binary(expression, value > 0 ? "+" : "-", LuauAST_1.default.number(Math.abs(value)));
    }
}
exports.offset = offset;
//# sourceMappingURL=offset.js.map