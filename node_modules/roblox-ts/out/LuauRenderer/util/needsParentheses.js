"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.needsParentheses = void 0;
const LuauAST_1 = __importDefault(require("../../LuauAST"));
const UNARY_OPERATOR_PRECEDENCE = {
    not: 7,
    "#": 7,
    "-": 7,
};
const BINARY_OPERATOR_PRECEDENCE = {
    or: 1,
    and: 2,
    "<": 3,
    ">": 3,
    "<=": 3,
    ">=": 3,
    "~=": 3,
    "==": 3,
    "..": 4,
    "+": 5,
    "-": 5,
    "*": 6,
    "/": 6,
    "%": 6,
    "^": 8,
};
function getPrecedence(node) {
    if (LuauAST_1.default.isBinaryExpression(node)) {
        return BINARY_OPERATOR_PRECEDENCE[node.operator];
    }
    else {
        return UNARY_OPERATOR_PRECEDENCE[node.operator];
    }
}
function needsParentheses(node) {
    if (node.parent && (LuauAST_1.default.isBinaryExpression(node.parent) || LuauAST_1.default.isUnaryExpression(node.parent))) {
        return getPrecedence(node) < getPrecedence(node.parent);
    }
    return false;
}
exports.needsParentheses = needsParentheses;
//# sourceMappingURL=needsParentheses.js.map